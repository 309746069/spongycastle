<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Spongy Castle by rtyley</title>
    
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Spongy Castle</h1>
        <p>repackage of <a href="http://www.bouncycastle.org/java.html">Bouncy Castle</a> for Android</p>
        <p class="view"><a href="https://github.com/rtyley/spongycastle">View the Project on GitHub <small>rtyley/spongycastle</small></a></p>
        <ul>
          <li><a href="http://search.maven.org/#search|ga|1|g:com.madgag.spongycastle">Maven <strong>Artifacts</strong></a></li>
          <li><a href="#downloads">Download <strong>JAR Files</strong></a></li>
          <li><a href="https://github.com/rtyley/spongycastle">Fork On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>



<h4>Why?</h4>
        <p>The Android platform unfortunately ships with a <a href="http://code.google.com/p/android/issues/detail?id=3280">cut-down</a> version of Bouncy Castle - as well as being crippled, it also makes installing an updated version of the libraries difficult due to classloader conflicts.</p>

<p>Spongy Castle is the stock Bouncy Castle libraries with a couple of small changes to make it work on Android:</p>

<ul>
<li>all package names have been moved from <strong>org.bouncycastle.*</strong> to <strong>org.spongycastle.*</strong> - to avoid classloader conflicts</li>
<li>the Java Security API Provider name is now <strong>SC</strong> rather than <strong>BC</strong>
</li>
<li>no class names change, so the BouncyCastleProvider class remains Bouncy, not Spongy, but moves to the <strong>org.spongycastle.jce.provider</strong> package.
</li>
</ul>

<h4 id="downloads">Download</h4>

<p>Spongy Castle artifacts are published on Maven Central. Use Gradle or the <a href="http://code.google.com/p/maven-android-plugin/">android-maven-plugin</a> to make the most of this, or click the <em>jar</em> links below - make sure you include all dependencies:</p>

<ul>
<li><strong><a href="http://search.maven.org/#search|ga|1|g:com.madgag.spongycastle AND a:core">core</a></strong> (<a href="https://search.maven.org/remote_content?g=com.madgag.spongycastle&a=core&v=LATEST">jar</a>) - Core lightweight API</li>
<li><a href="http://search.maven.org/#search|ga|1|g:com.madgag.spongycastle AND a:prov">prov</a> (<a href="https://search.maven.org/remote_content?g=com.madgag.spongycastle&a=prov&v=LATEST">jar</a>) - <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html">JCE</a> provider (requires core)</li>
<li><a href="http://search.maven.org/#search|ga|1|g:com.madgag.spongycastle AND a:bcpkix-jdk15on">bcpkix-jdk15on</a> (<a href="https://search.maven.org/remote_content?g=com.madgag.spongycastle&a=bcpkix-jdk15on&v=LATEST">jar</a>) - PKIX, CMS, EAC, TSP, PKCS, OCSP, CMP, and CRMF APIs (requires prov)</li>
<li><a href="http://search.maven.org/#search|ga|1|g:com.madgag.spongycastle AND a:bcpg-jdk15on">bcpg-jdk15on</a> (<a href="https://search.maven.org/remote_content?g=com.madgag.spongycastle&a=bcpg-jdk15on&v=LATEST">jar</a>) - OpenPGP API (requires prov)</li>
</ul>

<h4>Using Spongy Castle</h4>

<p>Register it just like the standard BouncyCastleProvider, but use
<a href="http://developer.android.com/reference/java/security/Security.html#insertProviderAt(java.security.Provider, int)"><code>insertProviderAt()</code></a>
rather than
<a href="http://developer.android.com/reference/java/security/Security.html#addProvider(java.security.Provider)"><code>addProvider()</code></a>, to ensure that 
<a href="https://github.com/rtyley/spongycastle/issues/10">Spongy Castle is used in preference to any other security provider</a> on the device:</p>

<pre><code>static {
    Security.insertProviderAt(new org.spongycastle.jce.provider.BouncyCastleProvider(), 1);
}
</code></pre>

<p>There's an example of Spongy Castle in active use in the <a href="https://github.com/rtyley/toy-android-ssh-agent/blob/d768a9ba853272d396f3b528eb991ea38244e6bc/src/main/java/com/madgag/ssh/toysshagent/ToyAuthAgentService.java#L28-48">ToyAuthAgentService</a> of the <a href="https://github.com/rtyley/toy-android-ssh-agent">toy-android-ssh-agent</a> project. There's also an <a href="https://github.com/rtyley/spongycastle-eclipse#readme">even simpler demo Eclipse project</a> showing how to include Spongy Castle in a vanilla Eclipse project.</p>

<h4>Licence</h4>

<p>Spongy Castle uses the same <a href="http://www.bouncycastle.org/licence.html">adaptation of the MIT X11 License</a> as Bouncy Castle.</p>

<h4>Projects using Spongy Castle</h4>

<p><a href="https://play.google.com/store/apps/details?id=com.madgag.agit">Agit - Android Git Client</a></p>

<p><a href="http://martijno.blogspot.com/2011/07/jmrtd-for-android.html">JMRTD for Android</a></p>

<p><a href="https://github.com/zdia/gorilla/wiki/Gorilla-for-Android">Gorilla for Android</a></p>

<p><a href="http://code.google.com/p/android-privacy-guard/wiki/BuildingAPG">APG - OpenPGP for Android</a></p>

<p><a href="https://play.google.com/store/apps/details?id=com.aide.ui">AIDE - Android Java IDE</a></p>

<p><a href="http://code.google.com/p/bitcoinj/">BitCoinJ - A Java implementation of a Bitcoin client-only node</a></p>

<p><a href="http://sufficientlysecure.org/index.php/openpgp-keychain/">OpenPGP Keychain</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/rtyley">rtyley</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>
